<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hami Point x é›„ç…æ—…éŠ - é»æ•¸éŠä¸–ç•Œ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f3f4f6;
        }

        .wheel-container {
            transition: transform 3s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .coupon-tear {
            position: relative;
        }
        .coupon-tear::before {
            content: '';
            position: absolute;
            left: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background-color: inherit;
            filter: brightness(0.95);
            border-radius: 50%;
        }
        .coupon-tear::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background-color: inherit;
            filter: brightness(0.95);
            border-radius: 50%;
        }

        .step-lock-overlay {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(4px);
        }

        .text-gradient-gold {
            background: linear-gradient(to right, #fde68a, #f59e0b, #fde68a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @keyframes fade-up {
            0% { opacity: 0; transform: translateY(10px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-up {
            animation: fade-up 0.3s ease-out forwards;
        }

        .quiz-card-enter {
            animation: slide-in 0.4s ease-out forwards;
        }
        @keyframes slide-in {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* åœ“å½¢åœ–å°ˆç”¨é™°å½± */
        .circle-img-shadow {
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- åœ–ç¤ºçµ„ä»¶ ---
        const IconGift = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="8" width="18" height="4" rx="1" /><path d="M12 8v13" /><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7" /><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5" /></svg>
        );
        const IconCrown = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14" /></svg>
        );
        const IconChevronRight = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6" /></svg>
        );
        const IconX = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 6 6 18" /><path d="m6 6 12 12" /></svg>
        );
        const IconLock = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
        );
        const IconCopy = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="14" height="14" x="8" y="8" rx="2" ry="2" /><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" /></svg>
        );
        const IconTag = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z" /><path d="M7 7h.01" /></svg>
        );
        const IconGlobe = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><path d="M2 12h20"/></svg>
        );
        const IconStar = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        );
        const IconZap = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
        );
        const IconDiamond = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 3h12l4 5-10 13L2 8z"/><path d="M11 3 8 8l3 13 3-13-3-5z"/><path d="M2 8h20"/></svg>
        );
        const IconTool = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
        );

        // --- è³‡æ–™é…ç½® ---
        const PRIZES = [
            { id: 1, name: "æ—…éŠé‡‘ $10k", color: "#ef4444", text: "#fff" }, 
            { id: 2, name: "HP 100é»", color: "#fff", text: "#ef4444" },
            { id: 3, name: "è¨‚æˆ¿ $500åˆ¸", color: "#fca5a5", text: "#fff" }, 
            { id: 4, name: "æ¼«éŠ 9æŠ˜åˆ¸", color: "#fff", text: "#ef4444" },
            { id: 5, name: "éŠ˜è¬æƒ é¡§", color: "#fee2e2", text: "#ef4444" },
            { id: 6, name: "ä¸€æ—¥éŠ 88æŠ˜", color: "#fff", text: "#ef4444" },
        ];

        const TRAVEL_DEALS = [
            { id: 1, category: "æ—¥éŸ“", title: "ã€æ±äº¬ã€‘å¯Œå£«å±±æ²³å£æ¹–ã€ç®±æ ¹æº«æ³‰äº”æ—¥", price: "32,900", reward: "5%", image: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=400&auto=format&fit=crop" },
            { id: 2, category: "æ—¥éŸ“", title: "ã€éŸ“åœ‹ã€‘é¦–çˆ¾å—æ€¡å³¶ã€ç©¿éŸ“æœéŠå¤å®®äº”æ—¥", price: "15,800", reward: "6%", image: "https://images.unsplash.com/photo-1517154421773-0529f29ea451?q=80&w=400&auto=format&fit=crop" },
            { id: 3, category: "æ­ç¾", title: "ã€æ­ç¾ã€‘å·´é»éµå¡”ã€é˜¿å§†æ–¯ç‰¹ä¸¹ã€é‹æ²³åæ—¥", price: "79,900", reward: "3%", image: "https://images.unsplash.com/photo-1502602898657-3e91760cbb34?q=80&w=400&auto=format&fit=crop" },
            { id: 4, category: "åœ‹å…§", title: "ã€èŠ±æ±ã€‘å¤ªé­¯é–£ã€ä¼¯æœ—å¤§é“ã€äº”æ˜Ÿé£¯åº—ä¸‰æ—¥", price: "8,800", reward: "8%", image: "https://images.unsplash.com/photo-1534483509719-3feaee7c30da?q=80&w=400&auto=format&fit=crop" }
        ];

        const SIGNATURE_DEALS = [
            { id: 1, title: "ç€¨æˆ¶å…§æµ· | è·³å³¶è³æ«»7æ—¥", subtitle: "ã€3/27 æˆåœ˜æ¨è–¦ã€‘é™å®šä¸€åœ˜", desc: "SEA PASEOè±ªè¯æ¸¡è¼ªã€æˆ¿å…§ç§æ¹¯", price: "79,900", image: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=400&auto=format&fit=crop" },
            { id: 2, title: "æ±åŒ— | é›™æº«æ³‰è³æ«»5æ—¥", subtitle: "ã€4/19 æˆåœ˜æ¨è–¦ã€‘æœ€å¾Œå¸­ä½", desc: "ç™¾é¸æº«æ³‰æˆ¿å…§ç§æ¹¯ã€å¤šå½©è³æ«»", price: "84,900", image: "https://images.unsplash.com/photo-1522383225653-ed111181a951?q=80&w=400&auto=format&fit=crop" }
        ];

        const TRAVEL_TOOLS = [
            { id: 1, name: "Ponta é»æ•¸", desc: "Hami Point äº’æ›ï¼Œæ—¥æœ¬æ¶ˆè²»è¶…ä¾¿åˆ©", feat: "é»æ•¸è·¨å¢ƒäº¤æ›", image: "https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?q=80&w=400&auto=format&fit=crop" },
            { id: 2, name: "NTT docomo", desc: "æ—¥æœ¬æœ€å¤§é›»ä¿¡ç¶²è·¯ï¼Œæš¢éŠç„¡æ­»è§’", feat: "åœ¨åœ°ç‰¹ç´„å„ªæƒ ", image: "https://images.unsplash.com/photo-1543674892-7d64d45df18b?q=80&w=400&auto=format&fit=crop" },
            { id: 3, name: "Juren ç§Ÿå€Ÿ", desc: "éš¨ç§Ÿéš¨é‚„ï¼Œè¡Œå‹•çºŒèˆªåŠ›å³åˆ»æ•‘æ´", feat: "é›»æ± å…±äº«æœå‹™", image: "https://images.unsplash.com/photo-1619145024372-f0483d7a6223?q=80&w=400&auto=format&fit=crop" }
        ];

        const PROMO_CODES = [
            { id: 1, code: "LIONHAMI200", title: "å…¨ç«™è¨‚å–®æ»¿é¡æŠ˜", desc: "æ»¿ $5,000 æŠ˜ $200" },
            { id: 2, code: "ROAMING88", title: "æ¼«éŠç”¨æˆ¶å°ˆå±¬å„ªæƒ ", desc: "æ—¥éŸ“è¡Œç¨‹äº« 88 æŠ˜" }
        ];

        const QUIZ_QUESTIONS = [
            { q: "é€±æœ«ä½ æœ€å¸¸åšä»€éº¼ï¼Ÿ", options: [ { t: "æˆ¶å¤–èµ°èµ° (è‡ªç„¶å‹)", v: "nature" }, { t: "çœ‹å±•é€›å¸‚é›† (æ–‡é’å‹)", v: "hipster" }, { t: "ç˜‹ç‹‚è³¼ç‰© (è³¼ç‰©ç‹‚)", v: "shop" }, { t: "æ”¾ç©ºä¼‘æ¯ (æ…µæ‡¶å‹)", v: "chill" } ] },
            { q: "æ—…è¡Œæ™‚æœ€åœ¨æ„çš„æ˜¯ï¼Ÿ", options: [ { t: "å°èˆªä¸èƒ½è¿·è·¯", v: "nature" }, { t: "åˆ†äº«ç¾ç…§ä¸Šå‚³", v: "hipster" }, { t: "æŠ˜æ‰£å­£è²·æ‰‹è»Ÿ", v: "shop" }, { t: "ç¡åˆ°é£½å†å‡ºé–€", v: "chill" } ] }
        ];

        const QUIZ_RESULTS = {
            "nature": { tag: "æ¥µå…‰å†’éšªå®¶", desc: "å–œæ­¡è‡ªç„¶æ¢ç´¢", recommend: "å†°å³¶ã€åŒ—æµ·é“" },
            "hipster": { tag: "è³ªæ„Ÿç©å®¶", desc: "è¿½æ±‚ç”Ÿæ´»å“å‘³", recommend: "äº¬éƒ½ã€æ›¼è°·" },
            "shop": { tag: "è³¼ç‰©é”äºº", desc: "æŒæ¡æµè¡Œè¶¨å‹¢", recommend: "æ±äº¬ã€å·´é»" },
            "chill": { tag: "æ…¢æ´»æ—…è¡Œè€…", desc: "æ›å€‹åœ°æ–¹ä¼‘æ¯", recommend: "å³‡é‡Œå³¶ã€æ²–ç¹©" }
        };

        // --- Components ---
        const Modal = ({ isOpen, onClose, children }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 animate-fade-in">
                    <div className="bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl transform transition-all scale-100">
                        <div className="p-2 flex justify-end"><button onClick={onClose} className="p-1 rounded-full hover:bg-gray-100"><IconX className="w-6 h-6 text-gray-500" /></button></div>
                        {children}
                    </div>
                </div>
            );
        };

        const App = () => {
            const [isSpinning, setIsSpinning] = useState(false);
            const [rotation, setRotation] = useState(0);
            const [showPrizeModal, setShowPrizeModal] = useState(false);
            const [wonPrize, setWonPrize] = useState(null);
            const [activeCategory, setActiveCategory] = useState("æ—¥éŸ“");
            const [copyStatus, setCopyStatus] = useState(null);
            const [activeSigTab, setActiveSigTab] = useState("ç§è—æ¨è–¦");
            const [quizStep, setQuizStep] = useState(0); 
            const [quizResult, setQuizResult] = useState(null);

            const wheelGradient = `conic-gradient(${PRIZES.map((p, i) => `${p.color} ${i * (360/PRIZES.length)}deg ${(i+1) * (360/PRIZES.length)}deg`).join(', ')})`;

            const handleSpin = () => {
                if (isSpinning || quizStep < 3) return;
                setIsSpinning(true);
                const targetIndex = 2; 
                const segmentAngle = 360 / PRIZES.length;
                const randomOffset = Math.random() * 20 - 10;
                const targetRotation = 360 * 10 + (360 - (targetIndex * segmentAngle)) - (segmentAngle/2) + randomOffset;
                setRotation(targetRotation);
                setTimeout(() => { setIsSpinning(false); setWonPrize(PRIZES[targetIndex]); setShowPrizeModal(true); }, 3000);
            };

            const handleQuizOption = (val) => {
                if (quizStep === 1) { setQuizResult(val); setQuizStep(2); } 
                else if (quizStep === 2) { setQuizStep(3); }
            };

            const copyToClipboard = (text) => {
                const textArea = document.createElement("textarea");
                textArea.value = text; document.body.appendChild(textArea); textArea.select();
                try { document.execCommand('copy'); setCopyStatus(text); setTimeout(() => setCopyStatus(null), 2000); } 
                catch (err) { console.error('Copy failed', err); }
                document.body.removeChild(textArea);
            };

            const filteredDeals = TRAVEL_DEALS.filter(deal => activeCategory === "å…¨éƒ¨" || deal.category === activeCategory);

            return (
                <div className="max-w-md mx-auto bg-gray-50 min-h-screen pb-24 shadow-xl relative overflow-hidden font-sans">
                    {/* Header */}
                    <div className="bg-white px-4 py-3 flex items-center justify-between sticky top-0 z-40 shadow-sm border-b border-gray-100">
                        <div className="flex items-center gap-2">
                            <div className="font-black text-emerald-600 italic text-xl tracking-tighter">Hami Pointè³¼ç‰©</div>
                            <span className="text-gray-300">|</span>
                            <div className="font-bold text-red-600 text-lg">é›„ç…æ—…éŠ</div>
                        </div>
                        <div className="text-sm font-bold text-emerald-700 bg-emerald-50 px-2.5 py-1 rounded-lg">12,580 pts</div>
                    </div>

                    {/* 1. Hero */}
                    <div className="relative h-[200px] overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=800&auto=format&fit=crop" className="w-full h-full object-cover" alt="Hero" />
                        <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/10 to-transparent flex flex-col justify-end p-6 text-white">
                            <h1 className="text-2xl font-black leading-tight mb-1">Hami Point é»æ•¸éŠä¸–ç•Œï¼<br/><span className="text-yellow-400 text-xl">å®Œæˆæ¸¬é©—ï¼Œè§£é–æŠ½ç</span></h1>
                            <p className="text-sm mb-4 font-medium opacity-90">1 é» &gt; 1 å…ƒï¼Œç”³è¾¦æ¼«éŠå†é€æ—…éŠé‡‘ï¼</p>
                            <button className="w-full bg-red-600 hover:bg-red-700 font-black py-3 rounded-full shadow-lg active:scale-95 transition-all text-sm flex items-center justify-center gap-2">ç«‹å³ç™»å…¥æŠ½æ©Ÿç¥¨ <IconChevronRight className="w-4 h-4" /></button>
                        </div>
                    </div>

                    {/* 2 & 3: äº’å‹•éŠæ¨‚å ´ */}
                    <div className="py-6 px-4 bg-emerald-600 relative overflow-hidden border-b-4 border-emerald-700">
                        <div className="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"></div>
                        <div className="text-center mb-4 relative z-10">
                            <div className="inline-flex items-center gap-1.5 bg-yellow-400 text-emerald-900 px-3 py-1.5 rounded-full text-xs font-black mb-1.5 shadow-sm"><IconZap className="w-3 h-3" /> ç©éŠæˆ²è³ºæ—…è²»ï¼šæ¸¬é©—è§£é–è½‰ç›¤</div>
                        </div>
                        <div className="bg-white rounded-3xl p-4 shadow-2xl relative overflow-hidden flex gap-3 items-stretch min-h-[240px]">
                            <div className="flex-[1.4] border-r border-dashed border-gray-100 pr-3 flex flex-col">
                                {quizStep === 0 && (
                                    <div className="h-full flex flex-col items-center justify-center text-center quiz-card-enter">
                                        <IconStar className="w-7 h-7 text-yellow-400 fill-yellow-400 mb-3" />
                                        <h3 className="text-sm font-black text-gray-800">ä½ æ˜¯å“ªç¨®æ—…ä¼´ï¼Ÿ</h3>
                                        <p className="text-[11px] text-gray-400 mt-1.5 mb-4 leading-relaxed">æ¸¬é©—å®ŒæŠ½è¬å…ƒæ—…éŠé‡‘</p>
                                        <button onClick={() => setQuizStep(1)} className="bg-emerald-600 text-white font-black px-6 py-2.5 rounded-xl text-xs shadow-md">é–‹å§‹</button>
                                    </div>
                                )}
                                {quizStep >= 1 && quizStep <= 2 && (
                                    <div className="h-full flex flex-col quiz-card-enter">
                                        <div className="flex justify-between items-center mb-3"><span className="text-[10px] font-black text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded">Q{quizStep}/02</span></div>
                                        <h3 className="text-sm font-black text-gray-800 mb-3 leading-snug">{QUIZ_QUESTIONS[quizStep-1].q}</h3>
                                        <div className="grid gap-2">
                                            {QUIZ_QUESTIONS[quizStep-1].options.map((opt, idx) => (
                                                <button key={idx} onClick={() => handleQuizOption(opt.v)} className="w-full text-left bg-gray-50 p-2.5 rounded-xl border border-gray-100 text-[11px] font-bold text-gray-700 hover:border-emerald-600 active:scale-[0.98]">{opt.t}</button>
                                            ))}
                                        </div>
                                    </div>
                                )}
                                {quizStep === 3 && (
                                    <div className="h-full flex flex-col items-center justify-center text-center quiz-card-enter">
                                        <div className="bg-emerald-50 text-emerald-700 text-[10px] font-black px-2.5 py-1 rounded-full mb-2">æ¸¬é©—å®Œæˆ</div>
                                        <h3 className="text-base font-black text-emerald-600 mb-1.5">{QUIZ_RESULTS[quizResult]?.tag}</h3>
                                        <div className="bg-red-50 text-red-600 p-2 rounded-xl text-xs font-black animate-pulse border border-red-100 shadow-sm">ğŸ‰ è½‰ç›¤è§£é–ï¼</div>
                                        <button onClick={() => setQuizStep(0)} className="text-[11px] text-gray-300 mt-3 underline">é‡æ–°æ¸¬é©—</button>
                                    </div>
                                )}
                            </div>
                            <div className="flex-1 flex flex-col items-center justify-center relative">
                                <div className="relative w-32 h-32">
                                    <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-2.5 z-20 w-6 h-8 filter drop-shadow-md"><div className="w-0 h-0 border-l-[8px] border-l-transparent border-r-[8px] border-r-transparent border-t-[16px] border-t-yellow-400"></div></div>
                                    <div className="w-full h-full rounded-full border-[4px] border-yellow-400 bg-white shadow-xl relative overflow-hidden wheel-container" style={{ transform: `rotate(${rotation}deg)`, background: wheelGradient }}>
                                        {PRIZES.map((prize, index) => {
                                            const rotate = index * (360 / PRIZES.length) + (360 / PRIZES.length / 2);
                                            return (
                                                <div key={prize.id} className="absolute top-0 left-1/2 -ml-2 w-4 h-1/2 origin-bottom pt-2.5 flex justify-center" style={{ transform: `rotate(${rotate}deg)` }}>
                                                   <span className="text-[9px] font-black tracking-tighter leading-none" style={{ color: prize.text, writingMode: 'vertical-rl', textOrientation: 'upright' }}>{prize.name}</span>
                                                </div>
                                            );
                                        })}
                                    </div>
                                    <button onClick={handleSpin} disabled={isSpinning || quizStep < 3} className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 rounded-full border-[4px] border-white shadow-xl flex flex-col items-center justify-center text-white font-black active:scale-95 transition-all z-30 ${quizStep < 3 ? 'bg-gray-300 opacity-50' : 'bg-red-600'}`}>GO</button>
                                    {quizStep < 3 && (
                                        <div className="absolute inset-0 step-lock-overlay rounded-full flex flex-col items-center justify-center pointer-events-none">
                                            <IconLock className="w-6 h-6 text-gray-700 mb-1" />
                                            <span className="text-[10px] font-black text-gray-800 bg-white/95 px-2 py-0.5 rounded-full">æœªè§£é–</span>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* 4. ç·šä¸Šæ—…å±• */}
                    <div className="py-8 px-4 bg-white">
                        <div className="flex items-center justify-between mb-4">
                            <div><h2 className="text-xl font-black text-gray-800 tracking-tight">ç·šä¸Šæ—…å±•é™æ™‚æ¶</h2><p className="text-xs text-gray-400 font-medium">ç²¾é¸è¡Œç¨‹æœ€é«˜å›é¥‹ <span className="text-red-600 font-black">8%</span></p></div>
                            <div className="bg-emerald-600 text-white px-3 py-1 rounded-lg text-xs font-black shadow-md">é»æ•¸å›é¥‹</div>
                        </div>
                        <div className="flex gap-2 mb-5 overflow-x-auto no-scrollbar">
                            {["å…¨éƒ¨", "æ—¥éŸ“", "æ­ç¾", "åœ‹å…§"].map(cat => (
                                <button key={cat} onClick={() => setActiveCategory(cat)} className={`px-4 py-2 rounded-full text-xs font-bold transition-all whitespace-nowrap ${activeCategory === cat ? "bg-red-600 text-white shadow-lg" : "bg-gray-100 text-gray-500"}`}>{cat}</button>
                            ))}
                        </div>
                        <div className="grid grid-cols-2 gap-4">
                            {filteredDeals.map(deal => (
                                <div key={deal.id} className="bg-white rounded-2xl border border-gray-100 shadow-md overflow-hidden flex flex-col active:scale-95 transition-all text-center">
                                    <div className="p-3">
                                        <div className="w-24 h-24 mx-auto rounded-full overflow-hidden circle-img-shadow border-2 border-white relative">
                                            <img src={deal.image} alt={deal.title} className="w-full h-full object-cover" />
                                            <div className="absolute top-0 left-0 w-full h-full bg-black/5"></div>
                                        </div>
                                    </div>
                                    <div className="px-3 pb-3 flex-1 flex flex-col">
                                        <div className="bg-emerald-50 text-emerald-700 text-[9px] font-black py-0.5 rounded-full mb-1.5 px-2 inline-block mx-auto">å›é¥‹ {deal.reward}</div>
                                        <h3 className="text-xs font-bold text-gray-800 line-clamp-2 mb-2 leading-snug">{deal.title}</h3>
                                        <div className="mt-auto text-red-600 font-black text-base">${deal.price}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* 5. ç²¾ç·»ç’½å“ */}
                    <div className="py-10 px-4 bg-gray-50 border-t border-gray-200">
                        <div className="flex items-center gap-2 mb-6">
                            <h2 className="text-2xl font-black text-gray-900 tracking-tight">é›„ç…ç’½å“</h2>
                            <span className="text-gray-300">/</span>
                            <div className="flex gap-2 overflow-x-auto no-scrollbar">
                                <button onClick={() => setActiveSigTab("ç§è—æ¨è–¦")} className={`px-3 py-1 rounded text-xs font-bold whitespace-nowrap ${activeSigTab === "ç§è—æ¨è–¦" ? "bg-red-500 text-white" : "bg-gray-200 text-gray-500"}`}>ç§è—æ¨è–¦</button>
                                <button onClick={() => setActiveSigTab("è¶…å¥¢æ—…å®¿")} className={`px-3 py-1 rounded text-xs font-bold whitespace-nowrap ${activeSigTab === "è¶…å¥¢æ—…å®¿" ? "bg-red-500 text-white" : "bg-gray-200 text-gray-500"}`}>è¶…å¥¢æ—…å®¿</button>
                            </div>
                        </div>
                        <div className="flex gap-4 overflow-x-auto no-scrollbar pb-2">
                            {SIGNATURE_DEALS.map(deal => (
                                <div key={deal.id} className="min-w-[240px] bg-white rounded-3xl border border-gray-100 shadow-xl overflow-hidden flex flex-col text-center p-4">
                                    <div className="w-32 h-32 mx-auto rounded-full overflow-hidden circle-img-shadow border-4 border-white mb-4">
                                        <img src={deal.image} className="w-full h-full object-cover" alt={deal.title} />
                                    </div>
                                    <div className="flex-1 flex flex-col">
                                        <div className="flex justify-center mb-2"><IconDiamond className="w-4 h-4 text-red-500" /></div>
                                        <h3 className="font-black text-sm text-gray-900 mb-1">{deal.title}</h3>
                                        <div className="text-[10px] text-red-600 font-bold mb-2">{deal.subtitle}</div>
                                        <p className="text-[10px] text-gray-400 mb-4">{deal.desc}</p>
                                        <div className="mt-auto pt-3 border-t border-gray-50 text-red-600 font-black text-xl">${deal.price}<span className="text-[10px] ml-1">èµ·</span></div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* 6. æ—¥æœ¬éŠå¯¦ç”¨å·¥å…· */}
                    <div className="py-10 px-4 bg-white border-t border-gray-100">
                        <div className="flex items-center gap-2 mb-2">
                            <IconTool className="w-6 h-6 text-emerald-600" />
                            <h2 className="text-2xl font-black text-gray-900 tracking-tight">æ—¥æœ¬éŠå¯¦ç”¨å·¥å…·</h2>
                        </div>
                        <p className="text-xs text-gray-400 font-medium mb-8">èµ´æ—¥æ—…éŠå¿…å‚™ï¼Œé»æ•¸èˆ‡ç”Ÿæ´»æœå‹™ä¸€æ‡‰ä¿±å…¨</p>
                        
                        <div className="grid grid-cols-3 gap-3">
                            {TRAVEL_TOOLS.map(tool => (
                                <div key={tool.id} className="flex flex-col items-center text-center group active:scale-95 transition-all">
                                    <div className="w-20 h-20 rounded-full overflow-hidden border-2 border-emerald-50 circle-img-shadow mb-3 relative">
                                        <img src={tool.image} alt={tool.name} className="w-full h-full object-cover" />
                                        <div className="absolute inset-0 bg-emerald-900/10 group-hover:bg-transparent transition-colors"></div>
                                    </div>
                                    <h3 className="text-xs font-black text-gray-800 leading-tight mb-1">{tool.name}</h3>
                                    <div className="text-[9px] font-bold text-emerald-600 bg-emerald-50 px-1.5 py-0.5 rounded-full mb-2">{tool.feat}</div>
                                    <button className="text-[10px] font-black text-gray-400 border border-gray-200 px-2 py-1 rounded-lg">äº†è§£æ›´å¤š</button>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* 7. æŠ˜æ‰£ç¢¼å°ˆå€ */}
                    <div className="py-8 px-4 bg-gray-50 border-b border-gray-100">
                        <h2 className="text-xl font-black text-gray-800 mb-1 tracking-tight">ç¨å®¶æŠ˜æ‰£ç¢¼</h2>
                        <p className="text-xs text-gray-400 font-medium italic mb-4">é»æ“Šå³å´æŒ‰éˆ•å¿«é€Ÿè¤‡è£½ä»£ç¢¼</p>
                        <div className="space-y-3">
                            {PROMO_CODES.map(item => (
                                <div key={item.id} className="bg-white rounded-2xl p-4 flex items-center justify-between shadow-sm relative coupon-tear overflow-hidden border border-gray-100">
                                    <div className="flex-1 pr-4">
                                        <h3 className="font-black text-xs text-gray-800 leading-tight">{item.title}</h3>
                                        <div className="mt-2.5 bg-emerald-50 px-3 py-1 rounded inline-block"><span className="font-mono text-emerald-700 text-xs font-bold tracking-widest">{item.code}</span></div>
                                    </div>
                                    <button onClick={() => copyToClipboard(item.code)} className={`w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-md ${copyStatus === item.code ? "bg-emerald-600 text-white" : "bg-red-600 text-white"}`}><IconCopy className="w-4 h-4" /></button>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* 8. é€±ä¸‰æœƒå“¡æ—¥ */}
                    <div className="py-10 px-4 bg-white">
                        <div className="flex items-center justify-between mb-5">
                            <div><h2 className="text-xl font-black text-gray-800 tracking-tight">é€±ä¸‰æœƒå“¡æ—¥</h2><p className="text-xs text-gray-500 font-medium">1 é»æŠµ 1.2 å…ƒï¼Œè¶…å€¼æ›ï¼</p></div>
                        </div>
                        <div className="flex gap-4 overflow-x-auto no-scrollbar pb-1 text-center">
                            <div className="min-w-[170px] bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-lg p-3">
                                <div className="w-24 h-24 mx-auto rounded-full overflow-hidden circle-img-shadow border-2 border-emerald-50 mb-3"><img src="https://images.unsplash.com/photo-1569154941061-e231b4725ef1?q=80&w=400&auto=format&fit=crop" className="w-full h-full object-cover" alt="æ¡ƒåœ’æ©Ÿå ´è²´è³“å®¤" /></div>
                                <h3 className="font-bold text-gray-800 text-xs mb-1.5 leading-tight">æ¡ƒåœ’æ©Ÿå ´è²´è³“å®¤</h3>
                                <div className="flex items-baseline justify-center gap-1"><span className="text-xl font-black text-emerald-600">299</span><span className="text-xs text-gray-500 font-bold">é»</span></div>
                            </div>
                            <div className="min-w-[170px] bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-lg p-3">
                                <div className="w-24 h-24 mx-auto rounded-full overflow-hidden circle-img-shadow border-2 border-emerald-50 mb-3"><img src="https://images.unsplash.com/photo-1490133461872-91e869757683?q=80&w=400&auto=format&fit=crop" className="w-full h-full object-cover" alt="å…¨çƒæ©Ÿå ´è²´è³“å®¤" /></div>
                                <h3 className="font-bold text-gray-800 text-xs mb-1.5 leading-tight">å…¨çƒæ©Ÿå ´è²´è³“å®¤</h3>
                                <div className="flex items-baseline justify-center gap-1"><span className="text-xl font-black text-emerald-600">500</span><span className="text-xs text-gray-500 font-bold">é»</span></div>
                            </div>
                        </div>
                    </div>

                    {/* 9. å‰›éœ€æ””æˆª */}
                    <div className="py-10 px-4 bg-blue-50 relative overflow-hidden border-t border-blue-100">
                        <h2 className="text-xl font-black text-gray-800 mb-1 tracking-tight">å‡ºåœ‹ä¸Šç¶²æ‰¾ä¸­è¯</h2>
                        <p className="text-xs text-gray-600 mb-6 italic font-medium">ç”³è¾¦å®Œæˆè§£é–é›„ç…ç•¶åœ°ç¥¨åˆ¸ã€Œè²·ä¸€é€ä¸€ã€</p>
                        <div className="relative bg-white rounded-3xl shadow-xl border border-blue-100 z-10 overflow-hidden">
                            <div className="p-5 border-b border-dashed border-gray-100 relative">
                                <div className="flex items-center gap-3 mb-4"><div className="w-7 h-7 rounded-full bg-blue-600 text-white flex items-center justify-center font-black text-xs shadow-md">1</div><h3 className="font-black text-sm text-gray-800">ç”³è¾¦ä¸­è¯é›»ä¿¡æ¼«éŠ</h3></div>
                                <button className="ml-10 bg-blue-600 text-white text-xs font-black px-6 py-2.5 rounded-xl">æŸ¥æ–¹æ¡ˆ</button>
                            </div>
                            <div className="p-5 bg-gray-50/50 relative overflow-hidden">
                                <div className="flex items-center gap-3 mb-3"><div className="w-7 h-7 rounded-full bg-gray-300 text-white flex items-center justify-center font-black text-xs">2</div><h3 className="font-black text-sm text-gray-400">è§£é–ç¥¨åˆ¸å„ªæƒ åˆ¸</h3></div>
                                <div className="absolute inset-0 step-lock-overlay flex flex-col items-center justify-center">
                                    <IconLock className="w-6 h-6 text-gray-700 mb-1.5" />
                                    <span className="text-xs font-black text-gray-700 bg-white/95 px-3 py-1 rounded-full border border-gray-200 shadow-md">ç”³è¾¦å¾Œè§£é–</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* 10. VIP å°Šæ¦®å°ˆå€ - Updated Section */}
                    <div className="bg-slate-900 py-12 px-6 text-white relative">
                        <div className="flex items-center gap-3 mb-8">
                            <IconCrown className="w-8 h-8 text-yellow-500 shadow-lg" />
                            <div><h2 className="text-2xl font-black text-gradient-gold tracking-tight">VIP å°Šæ¦®ç‰¹æ¬Š</h2><p className="text-[10px] text-yellow-600 font-bold tracking-[0.3em] uppercase opacity-80">Premium Rewards</p></div>
                        </div>
                        <div className="space-y-4">
                            {/* Card A: VIP è¶…ç´šè³ (Replaced Status Match) */}
                            <div className="bg-gradient-to-br from-white/10 to-transparent backdrop-blur-lg rounded-2xl p-5 border border-white/10 shadow-inner">
                                <div className="flex justify-between items-start mb-2.5">
                                    <h3 className="font-black text-yellow-100 text-sm">VIP è¶…ç´šè³ Exclusive Rewards</h3>
                                    <IconGift className="w-5 h-5 text-yellow-500 fill-yellow-500" />
                                </div>
                                <p className="text-xs text-gray-400 leading-relaxed mb-4 opacity-90 font-medium">å°Šæ¦®å®¢æˆ¶ç¨äº«ï¼ç™»å…¥ä¸­è¯é›»ä¿¡ VIP å®˜ç¶²é ˜å–é›„ç…æ—…éŠé«˜é¡å°ˆå±¬å„ªæƒ åˆ¸ï¼Œå‡ºåœ‹æ¿€çœæ›´æœ‰æ„Ÿã€‚</p>
                                <button className="text-xs font-black text-yellow-500 flex items-center gap-1 group underline decoration-yellow-500/30 underline-offset-4">
                                    ç«‹å³å‰å¾€é ˜å–å°ˆå±¬è³ <IconChevronRight className="w-3.5 h-3.5 group-hover:translate-x-1 transition-transform" />
                                </button>
                            </div>
                            {/* Card B: é»‘å¡é™å®š */}
                            <div className="bg-white/5 rounded-2xl p-4 border border-white/5 flex gap-4 items-center">
                                <div className="w-10 h-10 rounded-xl bg-yellow-500/20 flex items-center justify-center shrink-0 text-yellow-500 border border-yellow-500/10 shadow-sm"><IconGlobe className="w-5 h-5" /></div>
                                <div><h3 className="font-black text-sm text-yellow-100 leading-none">é»‘å¡é™å®šç§˜å¯†è¡Œç¨‹</h3><p className="text-xs text-gray-500 mt-2 font-medium">CEO å¸¶è·¯å°ˆå±¬ç±³å…¶æ—æ·±åº¦åœ˜</p></div>
                            </div>
                        </div>
                    </div>

                    {/* Sticky Footer */}
                    <div className="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-100 p-4 shadow-2xl z-50 max-w-md mx-auto">
                        <div className="flex gap-3">
                            <button className="flex-1 py-3 bg-gray-50 text-gray-700 rounded-2xl font-black text-xs flex flex-col items-center justify-center border border-gray-200 tracking-tighter"><IconGift className="w-4 h-4 mb-1" />æˆ‘çš„å„ªæƒ åˆ¸å¤¾</button>
                            <button className="flex-[2] py-3 bg-red-600 text-white rounded-2xl font-black text-sm shadow-xl shadow-red-200 flex items-center justify-center gap-2 active:scale-95 transition-all">å‰å¾€é›„ç…å®˜ç¶²è¨‚æˆ¿ <IconChevronRight className="w-4 h-4" /></button>
                        </div>
                    </div>

                    {/* Prize Modal */}
                    <Modal isOpen={showPrizeModal} onClose={() => setShowPrizeModal(false)}>
                        <div className="p-8 text-center">
                            <div className="w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-5 animate-bounce shadow-inner"><IconGift className="w-10 h-10 text-red-600" /></div>
                            <h3 className="text-2xl font-black text-gray-800 mb-3 tracking-tighter">ä¸­çå•¦ï¼ğŸ‰</h3>
                            {wonPrize && (
                                <div className="bg-gradient-to-r from-red-600 to-red-500 text-white rounded-2xl p-6 mb-8 relative coupon-tear shadow-2xl">
                                    <div className="text-xl font-black">{wonPrize.name}</div>
                                    <div className="text-xs mt-3 font-bold opacity-75 uppercase tracking-widest bg-white/10 py-1 rounded-full">æœ‰æ•ˆæœŸé™è‡³ 2026/12/31</div>
                                </div>
                            )}
                            <button onClick={() => setShowPrizeModal(false)} className="w-full bg-slate-900 text-white font-black py-4 rounded-2xl shadow-xl hover:bg-black transition-all flex items-center justify-center gap-2 text-sm">ç«‹å³æ­¸æˆ¶ä½¿ç”¨ <IconChevronRight className="w-4 h-4" /></button>
                        </div>
                    </Modal>

                    {/* Copy Alert */}
                    {copyStatus && (
                        <div className="fixed bottom-28 left-1/2 -translate-x-1/2 z-[60] bg-gray-900/95 text-white px-6 py-2.5 rounded-full text-xs font-bold animate-fade-up shadow-2xl flex items-center gap-2.5">
                            <IconStar className="w-4 h-4 text-yellow-400 fill-yellow-400" /> æŠ˜æ‰£ç¢¼å·²æˆåŠŸè¤‡è£½ï¼š{copyStatus}
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
